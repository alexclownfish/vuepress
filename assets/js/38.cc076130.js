(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{564:function(a,t,e){"use strict";e.r(t);var s=e(8),l=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"最近遇到云服务器添加磁盘-并分区为lvm格式-记录一下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最近遇到云服务器添加磁盘-并分区为lvm格式-记录一下"}},[a._v("#")]),a._v(" 最近遇到云服务器添加磁盘，并分区为lvm格式，记录一下")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fdisk -l \n--可以看到新硬盘sdb 或其它硬盘名\n")])])]),e("p",[a._v("1.为新的硬盘分区 （ 这里要注意下你自己的硬盘名称， 我这里是 /dev/vdb）")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fdisk /dev/vdb\n\ncommand (m for help):   n      n 命令用于新建一个分区\ne extended\np primary partition(1-4): p      p 创建一个主分区\npartition number(1-4): 1             分区号为1\nFirst Cylinder(1-XXXXX,default 1): 1  直接默认按回车\nLast Cylinder: XXXXX        直接默认按回车\ncommand (m for help): t          修改磁盘类别\ncommand (m for help):8e       8e表示LVM 分区格式\ncommand (m for help): w    修改写入分区表后退出\n")])])]),e("p",[a._v("2.创建PV")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("pvcreate /dev/vdb1（如无法创建提示无命令：yum -y install lvm2） \n")])])]),e("p",[a._v("3.创建VG")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("vgcreate VolGroup /dev/vdb1\n")])])]),e("p",[a._v("4.激活VG")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("vgchange -a y VolGroup\n")])])]),e("p",[a._v("4.创建LV")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("lvcreate -L 499.99G -n Lv_data VolGroup\n")])])]),e("p",[a._v("5.格式化")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mkfs.ext4 /dev/VolGroup/Lv_data\n")])])]),e("p",[a._v("6.创建需要挂载的目录名")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mkdir /data\n")])])]),e("p",[a._v("7、到指定目录挂载")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mount -t ext4 /dev/VolGroup/Lv_data /data\n")])])]),e("p",[a._v("8.开机自动挂载")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("echo >> /dev/VolGroup/Lv_data /data ext4 defaults 0 0 /etc/fstab\n")])])])])}),[],!1,null,null,null);t.default=l.exports}}]);